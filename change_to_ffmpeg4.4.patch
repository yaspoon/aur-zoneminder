--- CMakeLists.txt.before	2024-07-14 16:14:35.831395981 +1000
+++ CMakeLists.txt	2024-07-14 16:31:11.958088588 +1000
@@ -451,12 +451,14 @@
 set(PATH_FFMPEG "")
 set(OPT_FFMPEG "no")
 # avformat (using find_library and find_path)
-find_library(AVFORMAT_LIBRARIES avformat)
+find_library(AVFORMAT_LIBRARIES avformat HINTS "/usr/lib/ffmpeg4.4" NO_DEFAULT_PATH)
+message(AVFORMAT_LIBRARIES="${AVFORMAT_LIBRARIES}")
 if(AVFORMAT_LIBRARIES)
   set(HAVE_LIBAVFORMAT 1)
   list(APPEND ZM_BIN_LIBS "${AVFORMAT_LIBRARIES}")
-  find_path(AVFORMAT_INCLUDE_DIR "libavformat/avformat.h" /usr/include/ffmpeg)
+  find_path(AVFORMAT_INCLUDE_DIR "libavformat/avformat.h" /usr/include/ffmpeg4.4 NO_DEFAULT_PATH)
   if(AVFORMAT_INCLUDE_DIR)
+    message(AVFORMAT_INCLUDE_DIR="${AVFORMAT_INCLUDE_DIR}")
     include_directories("${AVFORMAT_INCLUDE_DIR}")
     set(CMAKE_REQUIRED_INCLUDES "${AVFORMAT_INCLUDE_DIR}")
   endif()
@@ -468,11 +470,11 @@
 endif()
 
 # avcodec (using find_library and find_path)
-find_library(AVCODEC_LIBRARIES avcodec)
+find_library(AVCODEC_LIBRARIES avcodec HINTS "/usr/lib/ffmpeg4.4" NO_DEFAULT_PATH)
 if(AVCODEC_LIBRARIES)
   set(HAVE_LIBAVCODEC 1)
   list(APPEND ZM_BIN_LIBS "${AVCODEC_LIBRARIES}")
-  find_path(AVCODEC_INCLUDE_DIR "libavcodec/avcodec.h" /usr/include/ffmpeg)
+  find_path(AVCODEC_INCLUDE_DIR "libavcodec/avcodec.h" /usr/include/ffmpeg4.4 NO_DEFAULT_PATH)
   if(AVCODEC_INCLUDE_DIR)
     include_directories("${AVCODEC_INCLUDE_DIR}")
     set(CMAKE_REQUIRED_INCLUDES "${AVCODEC_INCLUDE_DIR}")
@@ -486,11 +488,11 @@
 endif()
 
 # avdevice (using find_library and find_path)
-find_library(AVDEVICE_LIBRARIES avdevice)
+find_library(AVDEVICE_LIBRARIES avdevice HINTS "/usr/lib/ffmpeg4.4" NO_DEFAULT_PATH)
 if(AVDEVICE_LIBRARIES)
   set(HAVE_LIBAVDEVICE 1)
   list(APPEND ZM_BIN_LIBS "${AVDEVICE_LIBRARIES}")
-  find_path(AVDEVICE_INCLUDE_DIR "libavdevice/avdevice.h" /usr/include/ffmpeg)
+  find_path(AVDEVICE_INCLUDE_DIR "libavdevice/avdevice.h" /usr/include/ffmpeg4.4 NO_DEFAULT_PATH)
   if(AVDEVICE_INCLUDE_DIR)
     include_directories("${AVDEVICE_INCLUDE_DIR}")
     set(CMAKE_REQUIRED_INCLUDES "${AVDEVICE_INCLUDE_DIR}")
@@ -503,11 +505,11 @@
 endif()
 
 # avutil (using find_library and find_path)
-find_library(AVUTIL_LIBRARIES avutil)
+find_library(AVUTIL_LIBRARIES avutil HINTS "/usr/lib/ffmpeg4.4" NO_DEFAULT_PATH)
 if(AVUTIL_LIBRARIES)
   set(HAVE_LIBAVUTIL 1)
   list(APPEND ZM_BIN_LIBS "${AVUTIL_LIBRARIES}")
-  find_path(AVUTIL_INCLUDE_DIR "libavutil/avutil.h" /usr/include/ffmpeg)
+  find_path(AVUTIL_INCLUDE_DIR "libavutil/avutil.h" /usr/include/ffmpeg4.4 NO_DEFAULT_PATH)
   if(AVUTIL_INCLUDE_DIR)
     include_directories("${AVUTIL_INCLUDE_DIR}")
     set(CMAKE_REQUIRED_INCLUDES "${AVUTIL_INCLUDE_DIR}")
@@ -522,11 +524,11 @@
 endif()
 
 # swscale (using find_library and find_path)
-find_library(SWSCALE_LIBRARIES swscale)
+find_library(SWSCALE_LIBRARIES swscale HINTS "/usr/lib/ffmpeg4.4" NO_DEFAULT_PATH)
 if(SWSCALE_LIBRARIES)
   set(HAVE_LIBSWSCALE 1)
   list(APPEND ZM_BIN_LIBS "${SWSCALE_LIBRARIES}")
-  find_path(SWSCALE_INCLUDE_DIR "libswscale/swscale.h" /usr/include/ffmpeg)
+  find_path(SWSCALE_INCLUDE_DIR "libswscale/swscale.h" /usr/include/ffmpeg4.4 NO_DEFAULT_PATH)
   if(SWSCALE_INCLUDE_DIR)
     include_directories("${SWSCALE_INCLUDE_DIR}")
     set(CMAKE_REQUIRED_INCLUDES "${SWSCALE_INCLUDE_DIR}")
@@ -539,11 +541,11 @@
 endif()
 
 # SWresample (using find_library and find_path)
-find_library(SWRESAMPLE_LIBRARIES swresample)
+find_library(SWRESAMPLE_LIBRARIES swresample HINTS "/usr/lib/ffmpeg4.4" NO_DEFAULT_PATH)
 if(SWRESAMPLE_LIBRARIES)
   set(HAVE_LIBSWRESAMPLE 1)
   list(APPEND ZM_BIN_LIBS "${SWRESAMPLE_LIBRARIES}")
-  find_path(SWRESAMPLE_INCLUDE_DIR "libswresample/swresample.h" /usr/include/ffmpeg)
+  find_path(SWRESAMPLE_INCLUDE_DIR "libswresample/swresample.h" /usr/include/ffmpeg4.4 NO_DEFAULT_PATH)
   if(SWRESAMPLE_INCLUDE_DIR)
     include_directories("${SWRESAMPLE_INCLUDE_DIR}")
     set(CMAKE_REQUIRED_INCLUDES "${SWRESAMPLE_INCLUDE_DIR}")
@@ -555,11 +557,11 @@
   set(optlibsnotfound "${optlibsnotfound} SWResample")
 
   # AVresample (using find_library and find_path)
-  find_library(AVRESAMPLE_LIBRARIES avresample)
+  find_library(AVRESAMPLE_LIBRARIES avresample HINTS "/usr/lib/ffmpeg4.4" NO_DEFAULT_PATH)
   if(AVRESAMPLE_LIBRARIES)
     set(HAVE_LIBAVRESAMPLE 1)
     list(APPEND ZM_BIN_LIBS "${AVRESAMPLE_LIBRARIES}")
-    find_path(AVRESAMPLE_INCLUDE_DIR "libavresample/avresample.h" /usr/include/ffmpeg)
+    find_path(AVRESAMPLE_INCLUDE_DIR "libavresample/avresample.h" /usr/include/ffmpeg4.4 NO_DEFAULT_PATH)
     if(AVRESAMPLE_INCLUDE_DIR)
       include_directories("${AVRESAMPLE_INCLUDE_DIR}")
       set(CMAKE_REQUIRED_INCLUDES "${AVRESAMPLE_INCLUDE_DIR}")
